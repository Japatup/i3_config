# This file has been auto-generated by i3-config-wizard(1). It will not be 
# overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete this file and 
# re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

## 1) exec at boot ____
exec_always feh --bg-fill --no-fehbg '/home/r2/Images/wallpapers/greatness_graffiti_v3_darker.jpg'
exec /bin/bash -c "sleep 3; autokey > /dev/null 2>&1 &"
exec /bin/bash -c "plane_mode sync_led"

## 2) appearance ____
# Font for window titles. Will also be used by the bar unless a different 
# font is used in the bar {} block below.
font pango:monospace 8

# définition des couleurs à appliquer
set $bg-color             #15701c
set $inactive-bg-color    #191d26
set $text-color           #abeaac
set $inactive-text-color  #676E7D
set $urgent-bg-color      #e85e14
set $indicator_color      #1a771a
set $bar-background-color #061405

# window colors
## old : 
# client.focused #6c71c4 #6c71c4 #fdf6e3 #6c71c4
# client.focused_inactive #073642 #073642 #eee8d5 #6c71c4
# client.unfocused #073642 #073642 #93a1a1 #586e75
# client.urgent #d33682 #d33682 #fdf6e3 #dc322f

#                       border             background         text                 indicator
client.focused          $bg-color          $bg-color          $text-color          $indicator_color
client.unfocused        $inactive-bg-color $inactive-bg-color $inactive-text-color $indicator_color
client.focused_inactive $inactive-bg-color $inactive-bg-color $inactive-text-color $indicator_color
client.urgent           $urgent-bg-color   $urgent-bg-color   $text-color          $indicator_color

# Borders
# default_border normal 0 ## à insérer pour les versions > 4.13 à la place de new_window normal 0 qui sera deprecated
new_window normal 0
hide_edge_borders both

## 3) layout manipulation / behavior ____
# Use Mouse+$mod to drag floating windows to their wanted position
set $mod Mod4

floating_modifier $mod

# change focus
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+i focus up 
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+i move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+h split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle
# popup_during_fullscreen leave_fullscreen

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+z layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+p focus parent

# focus the child container
bindsym $mod+c focus child

# kill focused window
#bindsym $mod+Shift+A kill
bindsym $mod+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec dmenu_run
# There also is the (new) i3-dmenu-desktop which only displays applications 
# shipping a .desktop file. It is a wrapper around dmenu, so you need that 
# installed. bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width. Pressing right will 
        # grow the window’s width. Pressing up will shrink the window’s 
        # height. Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym i resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Up resize grow height 10 px or 10 ppt
        bindsym Down resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

## 4) keybindings : programs and system shortcuts ____
# start a terminal
bindsym $mod+Return exec i3-sensible-terminal

## 4.1) gestion du volume ____
## old
#bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle ; exec --no-startup-id pkill -SIGRTMIN+10 i3blocks
#bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5% ; exec --no-startup-id pkill -SIGRTMIN+10 i3blocks
#bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5% ; exec --no-startup-id pkill -SIGRTMIN+10 i3blocks

bindsym XF86AudioMute exec --no-startup-id volume_main mute --then pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioLowerVolume exec --no-startup-id volume_main -5% --then pkill -SIGRTMIN+10 i3blocks
bindsym XF86AudioRaiseVolume exec --no-startup-id volume_main +5% --then pkill -SIGRTMIN+10 i3blocks

## 4.2) i3blocks : forcer la mise à jour du block RAM / cpu ____
bindsym $mod+b exec --no-startup-id pkill -SIGRTMIN+12 i3blocks

## 4.3) gestion du rétroéclairage clavier ____
bindsym XF86KbdBrightnessDown exec --no-startup-id kbd_backlight down 
bindsym XF86KbdBrightnessUp exec --no-startup-id kbd_backlight up

## 4.4) gestion du rétroéclairage écran ____
## les touches dédiées ne sont étonnament pas reconnues. On prend Win au lieu de Fn pour l'instant, à creuser
#bindsym XF86MonBrightnessUp exec --no-startup-id screen_backlight up
#bindsym XF86MonBrightnessDown exec --no-startup-id screen_backlight down
bindsym $mod+F5 exec --no-startup-id screen_backlight dec > /dev/null 2>&1
bindsym $mod+F6 exec --no-startup-id screen_backlight inc > /dev/null 2>&1

## 4.5) gestion du airplane mode ____
bindcode 255 exec plane_mode toggle

## 4.6) gestion du touchpad (depends on xinput : see touchpad_configuration wiki)
bindsym XF86TouchpadToggle exec --no-startup-id touchpad_toggle

## 5) workpaces____
## icons for workspaces : 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
# 
#

## 5.1) definition of workspaces ____
set $workspace1 "1: "
set $workspace2 "2: "
set $workspace3 "3: "
set $workspace4 "4"
set $workspace5 "5"
set $workspace6 "6"
set $workspace7 "7"
set $workspace8 "8"
set $workspace9 "9"
set $workspace10 "0: "

## 5.2) switching to workspaces ____
## pour switch rapide entre 2 workspaces (retour rapide au précédent sans avoir à préciser son numéro)
workspace_auto_back_and_forth yes

bindsym $mod+Tab workspace next
bindsym $mod+shift+Tab workspace prev

bindsym $mod+ampersand workspace $workspace1
bindsym $mod+eacute workspace $workspace2
bindsym $mod+quotedbl workspace $workspace3
bindsym $mod+apostrophe workspace $workspace4
bindsym $mod+parenleft workspace $workspace5
bindsym $mod+minus workspace $workspace6
bindsym $mod+egrave workspace $workspace7
bindsym $mod+underscore workspace $workspace8
bindsym $mod+ccedilla workspace $workspace9
bindsym $mod+agrave workspace $workspace10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+eacute move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+egrave move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+ccedilla move container to workspace $workspace9
bindsym $mod+Shift+agrave move container to workspace $workspace10

## 5.3) les assigns ____
## NB : use xprop to find windows infos : 
## - classes (second part of the WM_CLASS)
## - instances (first part of the WM_CLASS)
## - titles (_NET_WM_NAME or WM_NAME)
## see https://i3wm.org/docs/userguide.html#command_criteria and https://i3wm.org/docs/userguide.html#assign_workspace for more details
# assign [class="Firefox" instance="Navigator"] $workspace2
assign [class="Firefox"] $workspace2
assign [class="Code" instance="code"] $workspace3
#assign [class="Thunderbird" instance="Mail"] $workspace10
assign [class="Thunderbird"] $workspace10


## 6) i3 commands ____
# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade 
# i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

mode "power" {        
        bindsym p exec --no-startup-id systemctl poweroff
        
        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+Shift+Escape mode "power"


## 7) i3bar config and appearance ____
# Start i3bar to display a workspace bar (plus the system information 
# i3status finds out, if available)
bar {
  font pango:DejaVu Sans Mono, Awesome 8
  status_command i3blocks -c ~/.config/i3/i3blocks.conf
  ## icone f142
  separator_symbol
  colors {
                background $bar-background-color
                separator #388c2f
                #                  border                background             text
                focused_workspace  $bg-color             $bg-color              $text-color
                inactive_workspace $bar-background-color $bar-background-color  $inactive-text-color
                urgent_workspace   $urgent-bg-color      $urgent-bg-color       $text-color
}

## old
#  colors {
#     separator #268bd2
#     background #002b36
#     statusline #839496
#     focused_workspace #fdf6e3 #6c71c4 #fdf6e3
#     active_workspace #fdf6e3 #6c71c4 #fdf6e3
#     inactive_workspace #002b36 #586e75 #002b36
#     urgent_workspace #d33682 #d33682 #fdf6e3
#   }
}




## gestion du multiscreen : on créé un mode pour ça
# mode "mutli_screen" {

#         bindsym o exec --no-startup-idi3-nagbar
        
#         # back to normal: Enter or Escape
#         bindsym Return mode "default"
#         bindsym Escape mode "default"
# }

# bindsym $mod+F8 mode "mutli_screen"
